---
/**
 * PageLayout
 * 
 * Standard layout for general content pages (e.g. list or content pages).
 * Journey, and other informational pages. Extends BaseLayout with a consistent
 * page header structure and content container.
 * 
 * Features:
 * - Optimized content width (800px max)
 * - Optional page header with title and intro text
 * - Consistent spacing and typography
 * - Responsive design for mobile devices
 * - Flexible content area via slot
 * 
 * The page header is only rendered if pageTitle or pageIntro is provided,
 * allowing for flexible usage across different page types.
 * 
 * Note: SEO meta tags should be handled by the SEO component in each page
 * using the "head" slot, not passed as props to this layout.
 * 
 * @component
 * 
 * @example
 * ```astro
 * ---
 * import PageLayout from '../layouts/PageLayout.astro';
 * import SEO from '../components/SEO.astro';
 * ---
 * 
 * <!-- With page header -->
 * <PageLayout 
 *   pageTitle="What I Use"
 *   pageIntro="A comprehensive list of the tools, software, and hardware I use for development and productivity."
 * >
 *   <SEO 
 *     slot="head"
 *     title="Uses" 
 *     description="Tools and software I use daily"
 *   />
 *   <div>Page content goes here</div>
 * </PageLayout>
 * 
 * <!-- Without page header (custom header in slot) -->
 * <PageLayout>
 *   <SEO slot="head" title="Custom Page" />
 *   <h1>Custom Header</h1>
 *   <p>Custom content...</p>
 * </PageLayout>
 * ```
 */

import BaseLayout from './BaseLayout.astro';

interface Props {
  /** Optional page heading displayed in the header */
  pageTitle?: string;
  
  /** Optional introductory text displayed below the page title */
  pageIntro?: string;
}

const { pageTitle, pageIntro } = Astro.props;
---

<BaseLayout>
  <slot name="head" slot="head" />
  <div class="page-layout">
    {(pageTitle || pageIntro) && (
      <header class="page-header">
        {pageTitle && <h1>{pageTitle}</h1>}
        {pageIntro && <p class="page-intro">{pageIntro}</p>}
      </header>
    )}
    
    <div class="page-content">
      <slot />
    </div>
  </div>

  <style>
    .page-layout {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--space-2xl) var(--space-lg);
    }

    .page-header {
      margin-bottom: var(--space-3xl);
    }

    .page-header h1 {
      font-size: var(--font-size-5xl);
      margin-bottom: var(--space-md);
      font-weight: var(--font-weight-bold);
      letter-spacing: -0.02em;
      line-height: var(--line-height-tight);
    }

    .page-intro {
      font-size: var(--font-size-xl);
      line-height: var(--line-height-relaxed);
      color: var(--color-text-secondary);
      max-width: var(--max-width-prose);
    }

    .page-content {
      /* Content from slot will inherit typography styles */
    }

    @media (max-width: 768px) {
      .page-layout {
        padding: var(--space-xl) var(--space-md);
      }

      .page-header h1 {
        font-size: var(--font-size-4xl);
      }

      .page-intro {
        font-size: var(--font-size-lg);
      }
    }
  </style>
</BaseLayout>
